=== Battle Start ===
=== Turn 1 End ===
node : Simulation 
Error: Error: Not all 
choices done
At line:1 char:1
+ node 
test_custom_battle.js 
> test_output.txt 2>&1
+ ~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~
~~~~~
    + CategoryInfo     
         : NotSpecifi  
  ed: (Simulation Er   
 ro...ll choices do    
ne:String) [], Rem    
oteException
    + FullyQualifiedEr 
   rorId : NativeComm  
  andError
 
    at 
Battle.commitChoices (E
:\GitHub\pokemon-showdo
wn\dist\sim\battle.js:2
478:39)
    at 
Object.<anonymous> (E:\
GitHub\pokemon-showdown
\test_custom_battle.js:
30:9)
    at Module._compile 
(node:internal/modules/
cjs/loader:1804:14)
    at Object..js (node
:internal/modules/cjs/l
oader:1936:10)
    at Module.load (nod
e:internal/modules/cjs/
loader:1525:32)
    at Module._load (no
de:internal/modules/cjs
/loader:1327:12)
    at TracingChannel.t
raceSync (node:diagnost
ics_channel:328:14)
    at wrapModuleLoad (
node:internal/modules/c
js/loader:245:24)
    at Module.executeUs
erEntryPoint [as 
runMain] (node:internal
/modules/run_main:154:5
)
    at node:internal/ma
in/run_main_module:33:4
7
E:\GitHub\pokemon-showd
own\test_custom_battle.
js:36
console.log("P1 
(Shadow Blade) HP: " + 
battle.p1.active[0].hp 
+ " / " + battle.p1.act
ive[0].maxhp);
                       
                       
             ^

TypeError: Cannot read 
properties of null 
(reading 'hp')
    at 
Object.<anonymous> (E:\
GitHub\pokemon-showdown
\test_custom_battle.js:
36:60)
    at Module._compile 
(node:internal/modules/
cjs/loader:1804:14)
    at Object..js (node
:internal/modules/cjs/l
oader:1936:10)
    at Module.load (nod
e:internal/modules/cjs/
loader:1525:32)
    at Module._load (no
de:internal/modules/cjs
/loader:1327:12)
    at TracingChannel.t
raceSync (node:diagnost
ics_channel:328:14)
    at wrapModuleLoad (
node:internal/modules/c
js/loader:245:24)
    at Module.executeUs
erEntryPoint [as 
runMain] (node:internal
/modules/run_main:154:5
)
    at node:internal/ma
in/run_main_module:33:4
7

Node.js v24.13.1
